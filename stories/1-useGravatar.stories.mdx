import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { Avatar, useGravatar } from '..';

<Meta title="useGravatar" component={useGravatar} />

# useGravatar Hook

Installation:

```sh
npm i @agney/react-avatar
```

## Usage

```javascript
import React from "react";
import { Avatar, useGravatar } from "@agney/react-avatar";

const App = () => {
  const url = useGravatar('person@example.com')
  return (
    <Avatar
      src={url}
      text="CM"
    />
  );
}

export default App;
```

## API

| Argument 	| Description 	| Default 	|
|---------------------	|------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|---------	|
| email 	| Email of the person for which gravatar is to be fetched 	|  	|
| config 	| configuration object. following fields are part of this object 	|  	|
| config.size 	| number representing height & width of image. 1px up to 2048px 	| 80 	|
| config.defaultImage 	| If the image is not available, gravatar defaults to this property. You can provide a custom URL image to default to or one of the alternatives that Gravatar supports. 	|  	|
| config.forceDefault 	| Always returns the default image if true 	| false 	|
| config.rating 	| Gravatar allows users to self rate their images. If required pass in a higher rating.  	| g 	|

For a complete list of available options, view [Gravatar docs](https://en.gravatar.com/site/implement/images/)

### Normal Image

Pass in an email to receive the URL for gravatar.

<Preview>
  <Story name="Image URL">
    {() => {
      const url = useGravatar('agney@outlook.in');
      return (
        <Avatar
          src={url}
          htmlWidth="100px"
        />
      )
    }}
  </Story>
</Preview>

### Larger size

Pass in a `size` to config.

<Preview>
  <Story name="Config Options">
    {() => {
      const url = useGravatar('abcd', {
        size: 200
      });
      return (
        <Avatar
          src={url}
          htmlWidth='200px'
        />
      )
    }}
  </Story>
</Preview>

### Generate an image

<Preview>
  <Story name="Generate Image">
    {() => {
      const url = useGravatar('abcd', {
        size: 200,
        forceDefault: true,
        defaultImage: 'robohash'
      });
      const url2 = useGravatar('abcd', {
        size: 200,
        forceDefault: true,
        defaultImage: 'monsterid'
      })
      return (
        <div style={{ display: 'flex' }}>
          <Avatar
            src={url}
            htmlWidth='100px'
            text="AB"
          />
          <Avatar
            src={url2}
            htmlWidth='100px'
            text="CD"
          />
        </div>
      )
    }}
  </Story>
</Preview>